name: Check In

# âœ… ç­¾åˆ°ç»­æœŸï¼šè¿è¡Œæ­¤ workflow å¯é‡ç½® 7 å¤©è®¡æ—¶ï¼Œä¿æŒ "Get Hot News" æ­£å¸¸è¿è¡Œ
# âœ… Renewal: Run this workflow to reset the 7-day timer and keep "Get Hot News" active
#
# ğŸ“Œ æ“ä½œæ–¹æ³• / How to use:
#   1. ç‚¹å‡» "Run workflow" æŒ‰é’® / Click "Run workflow" button
#   2. æ¯ 7 å¤©å†…è‡³å°‘è¿è¡Œä¸€æ¬¡ / Run at least once every 7 days
  
on:
  workflow_dispatch:       # 1. ä¿ç•™æ‰‹åŠ¨æŒ‰é’®ï¼Œæ–¹ä¾¿ä½ éšæ—¶æµ‹è¯•
  schedule:
    - cron: '0 10 */3 * *' # 2. æ–°å¢ï¼šæ¯3å¤©çš„UTCæ—¶é—´10ç‚¹ï¼ˆåŒ—äº¬æ—¶é—´18ç‚¹ï¼‰è‡ªåŠ¨è¿è¡Œ

jobs:
  del_runs:
    runs-on: ubuntu-latest
    permissions:
      actions: write
      contents: read
    steps:
      - name: Delete all workflow runs
        uses: Mattraks/delete-workflow-runs@v2
        with:
          token: ${{ github.token }}
          repository: ${{ github.repository }}
          retain_days: 0
          keep_minimum_runs: 0
          delete_workflow_by_state_pattern: "ALL"
          delete_run_by_conclusion_pattern: "ALL"
